<!DOCTYPE html>
<html>
<head>
<title>The Great Escape: Data at CF06</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../TheGreatEscape.css" />
</head>
<body class="Asm-b">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="The Great Escape" src="../images/logo.png" /></a></td>
<td class="page-header">Data</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="CE22.html">CE22</a>
</td>
<td class="up">Up: <a href="../maps/all.html#cf06">Map</a></td>
<td class="next">
Next: <a href="D026.html">D026</a>
</td>
</tr>
</table>
<div class="description">CF06: Animations</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
This is a sequence of variably-sized entries (type: anim_t).
</div>
<div class="paragraph">
If suffixed '_tl' the character faces top left of the screen, if suffixed '_br' the character faces bottom right of the screen, etc.
</div>
<div class="paragraph">
Animations (type: anim_t) have the following format:
</div>
<div class="paragraph">
<table class="default">
<tr>
<th colspan="1" rowspan="1">Type</th>
<th colspan="1" rowspan="1">Bytes</th>
<th colspan="1" rowspan="1">Name</th>
<th colspan="1" rowspan="1">Meaning</th>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Byte</td>
<td class="" colspan="1" rowspan="1">1</td>
<td class="" colspan="1" rowspan="1">nframes</td>
<td class="" colspan="1" rowspan="1">Number of frames in this animation</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">direction_t</td>
<td class="" colspan="1" rowspan="1">1</td>
<td class="" colspan="1" rowspan="1">from</td>
<td class="" colspan="1" rowspan="1">Which direction to turn to when animation starts (when reversed)</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">direction_t</td>
<td class="" colspan="1" rowspan="1">1</td>
<td class="" colspan="1" rowspan="1">to</td>
<td class="" colspan="1" rowspan="1">Which direction to turn to when animation starts (when not reversed)</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">direction_t</td>
<td class="" colspan="1" rowspan="1">1</td>
<td class="" colspan="1" rowspan="1">map_direction</td>
<td class="" colspan="1" rowspan="1">Direction to move the map, or 255 to not move it</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">animframe_t</td>
<td class="" colspan="1" rowspan="1">nframes * 4</td>
<td class="" colspan="1" rowspan="1">frames</td>
<td class="" colspan="1" rowspan="1">Animation frames</td>
</tr>
</table>
</div>
<div class="paragraph">
Animation frames (type: animframe_t) have the following format:
</div>
<div class="paragraph">
<table class="default">
<tr>
<th colspan="1" rowspan="1">Type</th>
<th colspan="1" rowspan="1">Bytes</th>
<th colspan="1" rowspan="1">Name</th>
<th colspan="1" rowspan="1">Meaning</th>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Byte</td>
<td class="" colspan="1" rowspan="1">1</td>
<td class="" colspan="1" rowspan="1">dx</td>
<td class="" colspan="1" rowspan="1">How much this frame moves the character by on the X axis. Signed delta</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Byte</td>
<td class="" colspan="1" rowspan="1">1</td>
<td class="" colspan="1" rowspan="1">dy</td>
<td class="" colspan="1" rowspan="1">How much this frame moves the character by on the Y axis. Signed delta</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Byte</td>
<td class="" colspan="1" rowspan="1">1</td>
<td class="" colspan="1" rowspan="1">dh</td>
<td class="" colspan="1" rowspan="1">How much this frame moves the character by on the height axis. Signed delta</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Byte</td>
<td class="" colspan="1" rowspan="1">1</td>
<td class="" colspan="1" rowspan="1">spriteindex</td>
<td class="" colspan="1" rowspan="1">Sprite index (relative to vischar's sprite base) + flip flag in top bit</td>
</tr>
</table>
</div>
<div class="paragraph">
Used by the routine at <a href="B5CE.html">animate</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">anim_crawlwait_tl</td>
<td class="address-1"><span id="cf06"></span>CF06</td>
<td class="instruction">DEFB $01,$04,$04,$FF,$00,$00,$00,$0A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_crawlwait_tr</td>
<td class="address-1"><span id="cf0e"></span>CF0E</td>
<td class="instruction">DEFB $01,$05,$05,$FF,$00,$00,$00,$8A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_crawlwait_br</td>
<td class="address-1"><span id="cf16"></span>CF16</td>
<td class="instruction">DEFB $01,$06,$06,$FF,$00,$00,$00,$88</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_crawlwait_bl</td>
<td class="address-1"><span id="cf1e"></span>CF1E</td>
<td class="instruction">DEFB $01,$07,$07,$FF,$00,$00,$00,$08</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_walk_tl</td>
<td class="address-1"><span id="cf26"></span>CF26</td>
<td class="instruction">DEFB $04,$00,$00,$02,$02,$00,$00,$00,$02,$00,$00,$01,$02,$00,$00,$02,$02,$00,$00,$03</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_walk_tr</td>
<td class="address-1"><span id="cf3a"></span>CF3A</td>
<td class="instruction">DEFB $04,$01,$01,$03,$00,$02,$00,$80,$00,$02,$00,$81,$00,$02,$00,$82,$00,$02,$00,$83</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_walk_br</td>
<td class="address-1"><span id="cf4e"></span>CF4E</td>
<td class="instruction">DEFB $04,$02,$02,$00,$FE,$00,$00,$04,$FE,$00,$00,$05,$FE,$00,$00,$06,$FE,$00,$00,$07</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_walk_bl</td>
<td class="address-1"><span id="cf62"></span>CF62</td>
<td class="instruction">DEFB $04,$03,$03,$01,$00,$FE,$00,$84,$00,$FE,$00,$85,$00,$FE,$00,$86,$00,$FE,$00,$87</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_wait_tl</td>
<td class="address-1"><span id="cf76"></span>CF76</td>
<td class="instruction">DEFB $01,$00,$00,$FF,$00,$00,$00,$00</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_wait_tr</td>
<td class="address-1"><span id="cf7e"></span>CF7E</td>
<td class="instruction">DEFB $01,$01,$01,$FF,$00,$00,$00,$80</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_wait_br</td>
<td class="address-1"><span id="cf86"></span>CF86</td>
<td class="instruction">DEFB $01,$02,$02,$FF,$00,$00,$00,$04</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_wait_bl</td>
<td class="address-1"><span id="cf8e"></span>CF8E</td>
<td class="instruction">DEFB $01,$03,$03,$FF,$00,$00,$00,$84</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_turn_tl</td>
<td class="address-1"><span id="cf96"></span>CF96</td>
<td class="instruction">DEFB $02,$00,$01,$FF,$00,$00,$00,$00,$00,$00,$00,$80</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_turn_tr</td>
<td class="address-1"><span id="cfa2"></span>CFA2</td>
<td class="instruction">DEFB $02,$01,$02,$FF,$00,$00,$00,$80,$00,$00,$00,$04</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_turn_br</td>
<td class="address-1"><span id="cfae"></span>CFAE</td>
<td class="instruction">DEFB $02,$02,$03,$FF,$00,$00,$00,$04,$00,$00,$00,$84</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_turn_bl</td>
<td class="address-1"><span id="cfba"></span>CFBA</td>
<td class="instruction">DEFB $02,$03,$00,$FF,$00,$00,$00,$84,$00,$00,$00,$00</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_crawl_tl</td>
<td class="address-1"><span id="cfc6"></span>CFC6</td>
<td class="instruction">DEFB $02,$04,$04,$02,$02,$00,$00,$0A,$02,$00,$00,$0B</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_crawl_tr</td>
<td class="address-1"><span id="cfd2"></span>CFD2</td>
<td class="instruction">DEFB $02,$05,$05,$03,$00,$02,$00,$8A,$00,$02,$00,$8B</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_crawl_br</td>
<td class="address-1"><span id="cfde"></span>CFDE</td>
<td class="instruction">DEFB $02,$06,$06,$00,$FE,$00,$00,$88,$FE,$00,$00,$89</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_crawl_bl</td>
<td class="address-1"><span id="cfea"></span>CFEA</td>
<td class="instruction">DEFB $02,$07,$07,$01,$00,$FE,$00,$08,$00,$FE,$00,$09</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_crawlturn_tl</td>
<td class="address-1"><span id="cff6"></span>CFF6</td>
<td class="instruction">DEFB $02,$04,$05,$FF,$00,$00,$00,$0A,$00,$00,$00,$8A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_crawlturn_tr</td>
<td class="address-1"><span id="d002"></span>D002</td>
<td class="instruction">DEFB $02,$05,$06,$FF,$00,$00,$00,$8A,$00,$00,$00,$88</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_crawlturn_br</td>
<td class="address-1"><span id="d00e"></span>D00E</td>
<td class="instruction">DEFB $02,$06,$07,$FF,$00,$00,$00,$88,$00,$00,$00,$08</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">anim_crawlturn_bl</td>
<td class="address-1"><span id="d01a"></span>D01A</td>
<td class="instruction">DEFB $02,$07,$04,$FF,$00,$00,$00,$08,$00,$00,$00,$0A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="CE22.html">CE22</a>
</td>
<td class="up">Up: <a href="../maps/all.html#cf06">Map</a></td>
<td class="next">
Next: <a href="D026.html">D026</a>
</td>
</tr>
</table>
<footer>
<div class="release">The complete The Great Escape disassembly 20240104</div>
<div class="copyright">&copy; 1986 Denton Designs &amp; Ocean Software Ltd. (The Great Escape). &copy; 2012-2024 David Thomas (this disassembly).</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.0.</div>
</footer>
</body>
</html>