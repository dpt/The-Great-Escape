<!DOCTYPE html>
<html>
<head>
<title>The Great Escape: Bugs</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../TheGreatEscape.css" />
</head>
<body class="Bugs">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="The Great Escape" src="../images/logo.png" /></a></td>
<td class="page-header">Bugs</td>
</tr>
</table>
<ul class="contents">
<li><a href="#writesToROM">The routine which empties beds writes to ROM</a></li>
<li><a href="#offByOne">Off-by-one in is_item_discoverable</a></li>
<li><a href="#spotlightBleed">Spotlight attributes go into border</a></li>
<li><a href="#pauseDoesntClear">Pause doesn't always clear the screen</a></li>
<li><a href="#nutsInSolitary">Hero goes nuts in solitary</a></li>
<li><a href="#walkingStove">You can bribe boilers and crates</a></li>
<li><a href="#moreBugsFromWOS">More bugs mentioned on World of Spectrum forums</a></li>
</ul>
<div><span id="writesToROM"></span></div>
<div class="box box-1">
<div class="box-title">The routine which empties beds writes to ROM</div>
<div class="paragraph">
The routine <a href="../asm/A289.html">wake_up</a>, which empties beds, has seven iterations but iterates over a list which is only six items long. The final write performs a write to ROM location $1A42.
</div>
</div>
<div><span id="offByOne"></span></div>
<div class="box box-2">
<div class="box-title">Off-by-one in is_item_discoverable</div>
<div class="paragraph">
The routine <a href="../asm/CCCD.html">is_item_discoverable</a>, which searches for items dropped nearby, decrements HL when it finds a nearby item. However, it doesn't restore it when it resumes iterating, meaning that subsequent iterations will search the wrong structure member.
</div>
</div>
<div><span id="spotlightBleed"></span></div>
<div class="box box-1">
<div class="box-title">Spotlight attributes go into border</div>
<div class="paragraph">
Sometimes the nighttime spotlight will set the attributes of the barbed wire game screen border.
</div>
<div class="paragraph">
I've not yet located the faulty code.
</div>
</div>
<div><span id="pauseDoesntClear"></span></div>
<div class="box box-2">
<div class="box-title">Pause doesn't always clear the screen</div>
<div class="paragraph">
Pause doesn't always clear the full game screen. You may see a two-row high sliver of pixels left behind.
</div>
<div class="paragraph">
I've not yet located the faulty code.
</div>
</div>
<div><span id="nutsInSolitary"></span></div>
<div class="box box-1">
<div class="box-title">Hero goes nuts in solitary</div>
<div class="paragraph">
Sometimes out hero will go nuts when put in solitary. He'll run up against the topmost corner of the room and keep running, moving left-right all the while.
</div>
<div class="paragraph">
I've not yet located the faulty code.
</div>
</div>
<div><span id="walkingStove"></span></div>
<div class="box box-2">
<div class="box-title">You can bribe boilers and crates</div>
<div class="paragraph">
"If you try and bribe a prisoner with the chocolate when you are in the lower of the 3 prisoner huts, he will walk towards you and as he does he will flash alternately as himself and a boiler." (zx1)
</div>
<div class="paragraph">
Similarly (or possibly the exact same case): you can bribe boilers and crates. They will change into characters and start walking around.
</div>
</div>
<div><span id="moreBugsFromWOS"></span></div>
<div class="box box-1">
<div class="box-title">More bugs mentioned on World of Spectrum forums</div>
<div class="paragraph">
The original thread is <a href="http://www.worldofspectrum.org/forums/showthread.php?t=38349">here</a>.
</div>
<div class="paragraph">
"When the hero then moves through the fence automatically after cutting the wire, he can go garbled momentarily." (Bandit)
</div>
<div class="paragraph">
"I got the lockpick and went to the solitary cell and picked the lock, i left an object in the cell (the radio) just to see what would happen. I was caught later somewhere i shouldn't and was sent to solitary. When the Commandant came to collect me he just stopped when he entered the room and everything stopped, obviously the programmers never thought anyone would so this!" (zx1)
</div>
<div class="paragraph">
"the position of the moveable objects (stoves/crate) don't reset when starting a new game" (jp)
</div>
<div class="paragraph">
"a0b8: jp $a0bb		;unnecessary instruction ($a0bb follows)" (bandit)
</div>
<div class="paragraph">
"c902: jp nz, $c917	;jump if red (unnecessary jump, ret nz enough)" (bandit)
</div>
</div>
<footer>
<div class="release">The complete The Great Escape disassembly 20240104</div>
<div class="copyright">&copy; 1986 Denton Designs &amp; Ocean Software Ltd. (The Great Escape). &copy; 2012-2024 David Thomas (this disassembly).</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.0.</div>
</footer>
</body>
</html>